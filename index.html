<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>–ß–µ–º–æ–¥–∞–Ω: —É–≥–∞–¥–∞–π –∫–æ–¥</title>
  <style>
    :root{
      --bg0:#070A12; --bg1:#0B1430;
      --glass: rgba(255,255,255,.08);
      --border: rgba(255,255,255,.12);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --good:#62f6ff; --hot:#ff4fd8; --warn:#ffd166; --bad:#ff3b5c;
      --r: 22px;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;overflow:hidden;
      background:
        radial-gradient(1200px 700px at 20% 10%, #1a1f46 0%, rgba(26,31,70,0) 55%),
        radial-gradient(900px 600px at 85% 20%, #3d1451 0%, rgba(61,20,81,0) 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      color:var(--txt); font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .wrap{height:100%;display:grid;place-items:center;padding:14px}
    .app{
      width:min(520px,100%); height:min(920px,100%);
      border-radius: clamp(18px, 3vw, 30px);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      border:1px solid var(--border);
      backdrop-filter: blur(10px);
      overflow:hidden; position:relative;
    }
    canvas{position:absolute; inset:0; z-index:1}
    .ui{position:relative;z-index:2;height:100%;display:flex;flex-direction:column}
    header{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:14px 16px 10px;
    }
    .brand{display:flex;align-items:center;gap:10px}
    .logo{
      width:40px;height:40px;border-radius:14px;
      background: radial-gradient(circle at 30% 30%, rgba(98,246,255,.9), rgba(255,79,216,.85));
      box-shadow: 0 0 0 1px rgba(255,255,255,.14), 0 18px 40px rgba(255,79,216,.18);
      position:relative;overflow:hidden;
    }
    .logo:after{
      content:""; position:absolute; inset:-30%;
      background: conic-gradient(from 180deg, rgba(255,255,255,0), rgba(255,255,255,.35), rgba(255,255,255,0));
      animation: spin 3.2s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    .title b{display:block;font-size:14px;letter-spacing:.2px}
    .title span{display:block;font-size:12px;color:var(--muted)}
    .pill{
      display:flex;gap:10px;align-items:center;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 999px;
      padding:8px 10px;
    }
    .mini{display:flex;flex-direction:column;gap:2px;min-width:84px;text-align:right}
    .mini .k{font-size:11px;color:var(--muted)}
    .mini .v{font-weight:800;font-size:14px}
    .btn{
      border:none;cursor:pointer;color:var(--txt);
      padding:10px 12px;border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 12px 30px rgba(0,0,0,.2);
      transition: transform .08s ease, filter .15s ease;
      user-select:none;
    }
    .btn:active{transform: translateY(1px) scale(.99); filter:brightness(1.05);}
    .btn.primary{
      background: radial-gradient(circle at 30% 20%, rgba(98,246,255,.35), rgba(255,79,216,.25)) ,
                  linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
      border-color: rgba(98,246,255,.25);
    }
    .content{flex:1;display:flex;flex-direction:column;gap:12px;padding:0 16px 16px}
    .card{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius: var(--r);
      box-shadow: 0 14px 40px rgba(0,0,0,.25);
      overflow:hidden;
    }
    .panel{padding:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .statline{
      display:flex;align-items:center;justify-content:space-between;
      gap:10px;color:var(--muted);font-size:12px;margin-top:8px
    }
    .digits{
      display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px;
    }
    .digit{
      height:58px;border-radius:18px;
      display:grid;place-items:center;
      background: rgba(0,0,0,.14);
      border:1px solid rgba(255,255,255,.10);
      font-size:22px;font-weight:900;letter-spacing:2px;
      box-shadow: inset 0 0 18px rgba(255,255,255,.06);
    }
    .digit.empty{color: rgba(255,255,255,.25)}
    .hint{
      margin-top:10px;
      display:flex;gap:10px;flex-wrap:wrap;
    }
    .chip{
      font-size:12px;color:var(--muted);
      padding:8px 10px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
    }
    .arena{
      height: clamp(280px, 40vh, 420px);
      display:grid;place-items:center;
      position:relative;
      background:
        radial-gradient(700px 340px at 50% 20%, rgba(98,246,255,.12), rgba(98,246,255,0) 60%),
        radial-gradient(700px 340px at 50% 90%, rgba(255,79,216,.10), rgba(255,79,216,0) 60%),
        linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.10));
    }
    .case{
      width:min(360px, 92%); aspect-ratio: 16/10;
      border-radius: 26px;
      position:relative;
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 22px 70px rgba(0,0,0,.38);
      overflow:hidden;
    }
    .case:before{
      content:""; position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 30% 30%, rgba(98,246,255,.18), rgba(98,246,255,0) 55%),
        radial-gradient(circle at 80% 40%, rgba(255,79,216,.16), rgba(255,79,216,0) 55%),
        conic-gradient(from 200deg, rgba(255,255,255,0), rgba(255,255,255,.12), rgba(255,255,255,0));
      filter: blur(1px);
      animation: glow 5.5s ease-in-out infinite;
    }
    @keyframes glow{50%{transform: translate(2%, -1%) scale(1.02)}}
    .lid{
      position:absolute; inset:0;
      transform-origin: left center;
      transform: rotateY(0deg);
      transition: transform .75s cubic-bezier(.2,.9,.2,1);
      background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,.08));
      border-left:1px solid rgba(255,255,255,.12);
      display:flex;align-items:center;justify-content:center;
      gap:12px;
    }
    .case.open .lid{ transform: rotateY(-78deg); }
    .lock{
      width:80px;height:80px;border-radius:22px;
      display:grid;place-items:center;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      box-shadow: inset 0 0 18px rgba(255,255,255,.06), 0 18px 40px rgba(0,0,0,.25);
      font-size:34px;
    }
    .msg{
      position:absolute; left:12px; right:12px; bottom:12px;
      padding:10px 12px;border-radius:18px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.10);
      color: var(--muted);
      font-size:12px;
      display:flex;justify-content:space-between;gap:10px;align-items:center;
    }
    .kbd{
      display:grid;grid-template-columns:repeat(3,1fr);gap:10px;
      padding:12px;
      background: rgba(255,255,255,.04);
      border-top:1px solid rgba(255,255,255,.10);
    }
    .key{
      height:52px;border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
      color:var(--txt);
      font-size:18px;font-weight:900;
      cursor:pointer; user-select:none;
      box-shadow: 0 14px 40px rgba(0,0,0,.18), inset 0 0 16px rgba(255,255,255,.04);
      transition: transform .08s ease, filter .15s ease;
    }
    .key:active{transform: translateY(1px) scale(.99); filter:brightness(1.06);}
    .key.alt{font-size:14px;color:rgba(255,255,255,.78)}
    .key.danger{color: rgba(255,255,255,.9)}
    .shake{animation: shake .18s linear 1}
    @keyframes shake{
      0%{transform:translateX(0)}25%{transform:translateX(-3px)}
      50%{transform:translateX(3px)}75%{transform:translateX(-2px)}
      100%{transform:translateX(0)}
    }
    .overlay{
      position:absolute; inset:0; z-index:3;
      display:none; place-items:center; padding:18px;
      background: radial-gradient(700px 450px at 50% 25%, rgba(255,255,255,.10), rgba(0,0,0,.34) 65%),
                  rgba(0,0,0,.25);
      backdrop-filter: blur(10px);
    }
    .modal{
      width:min(420px, 100%);
      border-radius: 26px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .modal h2{margin:0 0 6px;font-size:18px}
    .modal p{margin:0 0 12px;color:var(--muted);font-size:13px;line-height:1.35}
    .promo{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:12px;border-radius:18px;
      background: rgba(0,0,0,.18);
      border:1px dashed rgba(255,255,255,.22);
      margin:12px 0;
      font-weight:900; letter-spacing:.6px;
    }
    .small{font-size:11px;color:rgba(255,255,255,.55);margin-top:10px}
  </style>
</head>
<body>
<div class="wrap">
  <div class="app" id="app">
    <canvas id="fx"></canvas>

    <div class="ui">
      <header>
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div class="title">
            <b>–ß–µ–º–æ–¥–∞–Ω</b>
            <span>—É–≥–∞–¥–∞–π 4 —Ü–∏—Ñ—Ä—ã ‚Äî –ø–æ–ª—É—á–∏ –ø—Ä–æ–º–æ–∫–æ–¥</span>
          </div>
        </div>
        <div class="pill">
          <div class="mini">
            <div class="k">–ü–æ–ø—ã—Ç–∫–∏</div>
            <div class="v" id="tries">0</div>
          </div>
          <button class="btn" id="resetBtn" title="–ù–æ–≤–∞—è –∏–≥—Ä–∞">‚Üª</button>
        </div>
      </header>

      <div class="content">
        <div class="card">
          <div class="panel">
            <div class="row" style="justify-content:space-between;align-items:center">
              <div style="font-weight:800">–í–≤–µ–¥–∏ –∫–æ–¥</div>
              <div class="chip" id="status">–ü–æ–¥—Å–∫–∞–∑–∫–∞: 4 —Ü–∏—Ñ—Ä—ã (0‚Äì9)</div>
            </div>

            <div class="digits" id="digits">
              <div class="digit empty">‚Ä¢</div>
              <div class="digit empty">‚Ä¢</div>
              <div class="digit empty">‚Ä¢</div>
              <div class="digit empty">‚Ä¢</div>
            </div>

            <div class="hint">
              <div class="chip">üü¢ –∑–µ–ª—ë–Ω—ã–π: —Ü–∏—Ñ—Ä–∞ –Ω–∞ –º–µ—Å—Ç–µ</div>
              <div class="chip">üü° –∂—ë–ª—Ç—ã–π: —Ü–∏—Ñ—Ä–∞ –µ—Å—Ç—å, –Ω–æ –Ω–µ —Ç–∞–º</div>
              <div class="chip">‚ö´ –Ω–µ—Ç —Ç–∞–∫–æ–π —Ü–∏—Ñ—Ä—ã</div>
            </div>

            <div class="statline">
              <div>–ü–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–∫–∞–∂—É –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ –∫–∞–∂–¥–æ–π —Ü–∏—Ñ—Ä–µ.</div>
              <div id="modeLabel">–†–µ–∂–∏–º: —á–µ—Å—Ç–Ω—ã–π</div>
            </div>
          </div>
        </div>

        <div class="card arena">
          <div class="case" id="case">
            <div class="lid">
              <div class="lock" id="lockIcon">üîí</div>
            </div>
            <div class="msg">
              <span id="caseMsg">–ß–µ–º–æ–¥–∞–Ω –∑–∞–∫—Ä—ã—Ç. –£–≥–∞–¥–∞–π –∫–æ–¥!</span>
              <span id="timerMsg">‚è±Ô∏è</span>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="kbd" id="kbd">
            <!-- keys generated by JS -->
          </div>
        </div>

        <div class="card" style="padding:12px;display:flex;gap:10px;justify-content:space-between;align-items:center">
          <button class="btn" id="backBtn">‚å´ –°—Ç–µ—Ä–µ—Ç—å</button>
          <button class="btn primary" id="okBtn">‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <div class="overlay" id="overlay">
      <div class="modal">
        <h2 id="winTitle">–ß–µ–º–æ–¥–∞–Ω –æ—Ç–∫—Ä—ã—Ç üéâ</h2>
        <p id="winText">–í–æ—Ç —Ç–≤–æ–π –ø—Ä–æ–º–æ–∫–æ–¥:</p>
        <div class="promo">
          <span id="promoCode">PROMO-XXXX</span>
          <button class="btn" id="copyBtn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        <div class="row">
          <button class="btn primary" id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É üì§</button>
